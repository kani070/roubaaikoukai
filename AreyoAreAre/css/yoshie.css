/* 全画面設定 */
.game-container { width: 100vw; height: 100vh; position: relative; overflow: hidden; }
.layer { position: absolute; inset: 0; width: 100%; height: 100%; }

/* 背景・キャラ */
.bg-washitsu { background: url("../img/kitchen.png") center/cover no-repeat; z-index: 1; }
.anger-overlay { position: absolute; inset: 0; z-index: 5; pointer-events: none; transition: 1s; }
.anger-overlay.is-angry { box-shadow: inset 0 0 200px rgba(255, 0, 0, 0.7); background: rgba(255, 0, 0, 0.1); }
.char-layer { z-index: 2; display: flex; align-items: flex-end; padding-left: 5%; pointer-events: none; }
.yoshie-img { height: 130vh; transform: translateX(-5%) translateY(20%); }
.fg-ui-overlay { background: url("../img/toshiko_fukidashi.png") center/cover no-repeat; z-index: 3; pointer-events: none; }

/* UIレイヤー */
.ui-content-layer {
    font-family: "Hiragino Mincho ProN", "MS PMincho", "serif";
    position: absolute; inset: 0; z-index: 10; pointer-events: none;
}
.ui-counter, .ui-message, .ui-choices, .wakatta-btn, .q-btn { pointer-events: auto; }

.ui-counter { position: absolute; top: 5%; left: 8%; font-size: 3rem; font-weight: bold; color: #4a3024; }
.ui-message { position: absolute; bottom: 5%; left: 5%; width: 60%; height: 25%; display: flex; align-items: center; padding: 0 40px; }
.ui-message p { font-size: 2.5rem; line-height: 1.4; font-weight: bold; color: #4a3024; }

.ui-choices { position: absolute; top: 5%; right: 5%; display: flex; flex-direction: column; gap: 5px; }
.q-btn { width: 400px; height: 130px; border: none; cursor: pointer; background: transparent no-repeat center/100% 100%; display: flex; align-items: center; justify-content: center; transition: transform 0.1s; }
.q-btn span {
	/* 日本語の標準的な明朝体セット */
    font-family: "Hiragino Mincho ProN", "MS PMincho", "serif";
    font-size: 3rem;
    font-weight: bold;
    color: #4a3024;
    margin-top: -5px; /* 文字の位置を微調整 */
}

.btn-y { background-image: url("../img/toshiko_red.png"); }
.btn-r { background-image: url("../img/toshiko_yellow.png"); }
.btn-g { background-image: url("../img/toshiko_green.png"); }
.btn-b { background-image: url("../img/toshiko_yellow.png"); }

.wakatta-btn { position: absolute; bottom: 4%; right: 5%; width: 200px; height: 80px; background: url("../img/toshiko_wakatta.png") no-repeat center/contain; border: none; cursor: pointer; transition: transform 0.1s; }

.q-btn:hover, .wakatta-btn:hover { transform: scale(1.05); }
.q-btn:active, .wakatta-btn:active { transform: scale(0.95); }

/* クリアポップアップ */
.modal-overlay {
    position: fixed; inset: 0; background: rgba(0,0,0,0.8);
    display: none; justify-content: center; align-items: center; z-index: 2000;
}
.share-card { background: white; padding: 30px; border-radius: 20px; width: 80%; max-width: 400px; text-align: center; }
.share-stats strong { font-size: 2rem; color: #d32f2f; }
.share-buttons { display: flex; flex-direction: column; gap: 10px; margin-top: 20px; }
.sns-btn { padding: 12px; border: none; border-radius: 30px; font-weight: bold; cursor: pointer; }
.x-btn { background: #000; color: white; }
.title-btn { background: #8d6e63; color: white; }

/* YOU DIED 画面 */
.death-overlay { position: fixed; inset: 0; background: black; z-index: 10000; display: none; justify-content: center; align-items: center; }
.death-text {
    color: #8a0000; font-family: 'Times New Roman', serif; font-size: 8rem; letter-spacing: 1.5rem;
    font-weight: bold; text-shadow: 0 0 20px rgba(255,0,0,0.5); opacity: 0; transform: scale(1.2);
    animation: deathFade 4s forwards;
}
@keyframes deathFade {
    0% { opacity: 0; transform: scale(1.2); }
    20% { opacity: 1; transform: scale(1); }
    80% { opacity: 1; transform: scale(1.05); }
    100% { opacity: 0; }
}